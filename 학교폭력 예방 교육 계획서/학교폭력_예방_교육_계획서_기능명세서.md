# 학교폭력 예방 교육 계획서 기능명세서

## 1. 개요

### 1.1 기능 목적
- 학교에서 연간 또는 학기별로 실시하는 학교폭력 예방 교육 계획서를 AI 기반으로 자동 생성
- 학교폭력예방법에 따른 법정 의무 교육 계획 수립
- 학생, 교직원, 학부모 대상 맞춤형 예방교육 계획 제공

### 1.2 대상 사용자
- 초등학교, 중학교, 고등학교 학교폭력 담당 교사
- 학생생활부, 학생안전부 담당자
- 학교폭력대책자치위원회 위원

### 1.3 문서 특징
- 학교폭력예방 및 대책에 관한 법률 제15조 준수
- 학생 맞춤형 예방교육 (학기당 1회 이상)
- 교직원 연수 (연 1회 이상)
- 학부모 교육 (연 1회 이상)
- 실질적이고 체계적인 예방교육 프로그램 구성

### 1.4 학교폭력 예방교육 영역
1. **학교폭력 이해**: 개념, 유형, 심각성
2. **언어폭력 예방**: 욕설, 비하, 협박
3. **신체폭력 예방**: 폭행, 상해
4. **사이버폭력 예방**: SNS 괴롭힘, 사이버 명예훼손
5. **집단따돌림 예방**: 은따, 왕따, 관계적 폭력
6. **성폭력 예방**: 성희롱, 성추행, 성폭행
7. **갈등해결 및 의사소통**: 공감, 경청, 비폭력 대화
8. **방관자 역할**: 적극적 개입, 신고 방법

---

## 2. 기능 상세

### 2.1 입력 단계 구성

#### **STEP 1: 기본 정보**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 학교명 | 텍스트 | 필수 | 학교 전체 이름 (예: ○○중학교) |
| 학교급 | 선택 (라디오) | 필수 | 초등학교 / 중학교 / 고등학교 |
| 계획서 유형 | 선택 (라디오) | 필수 | 연간 계획 / 학기별 계획 |
| 전체 학생 수 | 숫자 | 필수 | 전교생 수 |
| 학급 수 | 숫자 | 필수 | 총 학급 수 |
| 교원 수 | 숫자 | 필수 | 총 교원 수 |
| 계획 기간 | 날짜 범위 | 필수 | 시작일 ~ 종료일 |
| 작성자 | 텍스트 | 필수 | 담당 교사 성명 |
| 부서 | 텍스트 | 필수 | 소속 부서 (예: 학생생활부) |
| 연락처 | 텍스트 | 필수 | 담당자 연락처 |

#### **STEP 2: 현황 분석**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 전년도 학교폭력 발생 건수 | 숫자 | 선택 | 전년도 학교폭력 발생 통계 |
| 주요 발생 유형 | 다중 선택 | 선택 | 언어폭력, 신체폭력, 사이버폭력 등 |
| 학교 특성 및 환경 | 텍스트영역 | 필수 | 학교 주변 환경, 학생 특성 등 |
| 전년도 교육 평가 | 텍스트영역 | 선택 | 전년도 예방교육 실적 및 효과 |
| 개선 필요 사항 | 텍스트영역 | 선택 | 전년도 반성 및 개선 방향 |

#### **STEP 3: 교육 목표 및 방침**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 교육 목표 | 텍스트영역 | 필수 | 학교폭력 예방교육의 주요 목표 (3~5개) |
| 운영 방침 | 텍스트영역 | 필수 | 예방교육 운영의 기본 방침 |
| 중점 추진 과제 | 텍스트영역 | 필수 | 올해 중점 추진 사항 |
| 기대 효과 | 텍스트영역 | 필수 | 예방교육을 통한 기대 효과 |

#### **STEP 4: 학생 대상 교육 계획**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 학기당 교육 횟수 | 숫자 | 필수 | 학기당 최소 1회 이상 필수 |
| 학년별 교육 시간 | 동적 테이블 | 필수 | 학년별 교육 시수 배정 |
| 주요 교육 내용 | 텍스트영역 | 필수 | 학교폭력 예방 주제별 교육 내용 |
| 교육 방법 | 다중 선택 | 필수 | 강의, 토론, 역할극, 영상시청, 체험활동 등 |
| 교육 자료 | 텍스트 | 선택 | 활용 예정 교재 및 자료 |
| 특별 프로그램 | 텍스트영역 | 선택 | 학교 특색 예방 프로그램 |

**학년별 교육 시간 테이블:**
| 학년 | 1학기 교육 횟수 | 1학기 총 시간 | 2학기 교육 횟수 | 2학기 총 시간 | 연간 총 시간 |
|------|----------------|---------------|----------------|---------------|--------------|
| 1학년 | 2회 | 4시간 | 2회 | 4시간 | 8시간 |
| ... | ... | ... | ... | ... | ... |

#### **STEP 5: 교직원 대상 연수 계획**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 연수 횟수 | 숫자 | 필수 | 연간 최소 1회 이상 필수 |
| 연수 계획 | 동적 테이블 | 필수 | 교직원 연수 일정 |

**교직원 연수 계획표:**
| 연수 일자 | 연수 주제 | 대상 | 시간 | 강사 | 비고 |
|----------|----------|------|------|------|------|
| 2025-03-15 | 학교폭력 인식 및 대응 | 전체 교직원 | 2시간 | 외부 전문가 | 신학기 |
| ... | ... | ... | ... | ... | ... |

#### **STEP 6: 학부모 대상 교육 계획**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 교육 횟수 | 숫자 | 필수 | 연간 최소 1회 이상 필수 |
| 교육 계획 | 동적 테이블 | 필수 | 학부모 교육 일정 |

**학부모 교육 계획표:**
| 교육 일자 | 교육 주제 | 대상 | 시간 | 방법 | 비고 |
|----------|----------|------|------|------|------|
| 2025-04-10 | 가정에서의 학교폭력 예방 | 전체 학부모 | 1시간 | 온라인 연수 | |
| ... | ... | ... | ... | ... | ... |

#### **STEP 7: 월별/분기별 세부 실행 계획**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 실행 계획표 | 동적 테이블 | 필수 | 월별/분기별 예방활동 계획 |

**실행 계획표 구조:**
| 월/분기 | 대상 | 활동 내용 | 추진 방법 | 담당 | 비고 |
|---------|------|----------|----------|------|------|
| 3월 | 전체 학생 | 학교폭력 예방 주간 운영 | 캠페인, 교육 | 학생부 | 신학기 |
| ... | ... | ... | ... | ... | ... |

#### **STEP 8: 상담 및 신고 체계**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 학교 내 상담 체계 | 텍스트영역 | 필수 | Wee클래스, 전문상담교사 등 |
| 신고 방법 안내 | 텍스트영역 | 필수 | 117 신고센터, 학교 신고함 등 |
| 긴급 대응 체계 | 텍스트영역 | 필수 | 학교폭력 발생 시 초기 대응 절차 |
| 외부 연계 기관 | 텍스트영역 | 선택 | 경찰서, 청소년상담센터 등 |

#### **STEP 9: 예산 및 인프라**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 예산 계획 | 텍스트영역 | 필수 | 예방교육 관련 예산 편성 내역 |
| 교육 시설 | 텍스트영역 | 선택 | 상담실, 교육장 등 |
| 교육 자료 현황 | 텍스트영역 | 선택 | 보유 교재, 교구, 영상자료 등 |

#### **STEP 10: 평가 및 환류**
| 항목 | 입력 타입 | 필수 여부 | 설명 |
|------|----------|----------|------|
| 평가 시기 | 텍스트 | 필수 | 중간 평가 및 최종 평가 시기 |
| 평가 방법 | 텍스트영역 | 필수 | 설문조사, 인식도 조사 등 |
| 평가 지표 | 텍스트영역 | 필수 | 정량/정성 평가 지표 |
| 환류 계획 | 텍스트영역 | 필수 | 평가 결과 반영 및 개선 방안 |
| 폭력 발생률 감소 목표 | 텍스트 | 선택 | 전년 대비 목표치 |

---

### 2.2 AI 생성 기능

#### **2.2.1 실시간 AI 답변 생성 버튼**

사용자가 입력 중에도 AI 도움을 받을 수 있도록 각 서술형 텍스트영역마다 "AI 답변 생성" 버튼 제공

**적용 대상 필드:**
- STEP 2: 학교 특성 및 환경
- STEP 2: 전년도 교육 평가
- STEP 2: 개선 필요 사항
- STEP 3: 교육 목표
- STEP 3: 운영 방침
- STEP 3: 중점 추진 과제
- STEP 3: 기대 효과
- STEP 4: 주요 교육 내용
- STEP 4: 특별 프로그램
- STEP 8: 학교 내 상담 체계
- STEP 8: 신고 방법 안내
- STEP 8: 긴급 대응 체계
- STEP 8: 외부 연계 기관
- STEP 9: 예산 계획
- STEP 9: 교육 시설
- STEP 9: 교육 자료 현황
- STEP 10: 평가 방법
- STEP 10: 평가 지표
- STEP 10: 환류 계획

**작동 방식:**
1. 사용자가 "AI 답변 생성" 버튼 클릭
2. 현재까지 입력된 정보(학교급, 학생 수, 현황 분석 등)를 컨텍스트로 전달
3. 해당 필드에 적합한 내용을 AI가 생성 (5-10초 소요)
4. 생성된 내용을 텍스트영역에 자동 삽입
5. 사용자가 내용을 검토하고 수정 가능

**UI 상태:**
- 기본: "AI 답변 생성" 버튼 (파란색)
- 로딩 중: "생성 중..." 버튼 (회색, 비활성화)
- 완료: 버튼 원상 복구, 텍스트 삽입

#### **2.2.2 최종 문서 생성 시 AI 확장**

전체 입력 완료 후 "생성하기" 버튼 클릭 시 자동 생성되는 서술형 내용

1. **추진 배경 및 필요성**
   - 입력 정보: 학교급, 현황 분석, 교육 목표
   - 생성 내용: 학교폭력 예방교육의 필요성, 법적 근거, 학교 상황 분석

2. **학교폭력 예방 체계**
   - 입력 정보: 운영 방침, 상담 체계, 신고 방법
   - 생성 내용: 예방-대응-사후관리 체계, 조직 구성

3. **교육과정 연계 방안**
   - 입력 정보: 학교급, 교육 방법, 주요 교육 내용
   - 생성 내용: 교과 연계 예방교육, 창의적 체험활동 연계

4. **학년별 맞춤 교육 내용**
   - 입력 정보: 학교급, 학년별 시간 배정, 주요 내용
   - 생성 내용: 발달단계에 맞는 교육 내용 상세화

5. **교직원 역할 및 책무**
   - 입력 정보: 교직원 연수 계획
   - 생성 내용: 교직원의 예방 및 대응 역할, 책임

6. **학부모 참여 활성화 방안**
   - 입력 정보: 학부모 교육 계획
   - 생성 내용: 가정과 학교의 협력 체계

7. **평가 및 개선 방안**
   - 입력 정보: 평가 계획, 환류 계획
   - 생성 내용: 체계적인 평가 시스템, 지속적 개선 방안

---

### 2.3 출력 형식

#### **생성되는 문서 구조**

```
[문서 제목]
○○학교 2025학년도 학교폭력 예방 교육 계획서

[1. 기본 현황]
가. 학교명: ○○중학교
나. 대상: 전교생 600명 (20학급)
다. 계획 기간: 2025.03.01 ~ 2026.02.28
라. 담당자: 홍길동 (학생생활부)

[2. 추진 배경 및 필요성]
(AI 생성 서술형 내용)
- 법적 근거
- 학교폭력 현황 분석
- 예방교육 강화 필요성

[3. 현황 분석]
가. 전년도 학교폭력 발생 현황
나. 학교 특성 및 환경
다. 전년도 교육 평가
라. 개선 필요 사항
(사용자 입력 내용)

[4. 학교폭력 예방 교육 목표]
(사용자 입력 + AI 보완)

[5. 운영 방침]
(사용자 입력 내용)

[6. 중점 추진 과제]
(사용자 입력 내용)

[7. 학교폭력 예방 체계]
(AI 생성 서술형 내용)
가. 예방-대응-사후관리 체계
나. 조직 구성 및 역할

[8. 학생 대상 예방 교육]
가. 교육 계획
   1) 학년별 교육 시간 (표)
   2) 주요 교육 내용 (사용자 입력 + AI 생성)
   3) 교육 방법
   4) 교육 자료
   
나. 학년별 맞춤 교육 내용 (AI 생성)
다. 특별 프로그램 (사용자 입력)

[9. 교육과정 연계 방안]
(AI 생성 서술형 내용)

[10. 교직원 대상 연수]
가. 교직원 역할 및 책무 (AI 생성)
나. 연수 계획 (사용자 입력 테이블)

[11. 학부모 대상 교육]
가. 학부모 참여 활성화 방안 (AI 생성)
나. 교육 계획 (사용자 입력 테이블)

[12. 월별/분기별 세부 실행 계획]
(사용자 입력 테이블)

[13. 상담 및 신고 체계]
가. 학교 내 상담 체계
나. 신고 방법 안내
다. 긴급 대응 체계
라. 외부 연계 기관
(사용자 입력 내용)

[14. 예산 및 인프라]
가. 예산 계획
나. 교육 시설
다. 교육 자료 현황
(사용자 입력 내용)

[15. 평가 및 환류]
가. 평가 시기 및 방법
나. 평가 지표
다. 환류 계획
라. 폭력 발생률 감소 목표
(사용자 입력 + AI 생성 내용)

[16. 기대 효과]
(AI 생성 서술형 내용)

[붙임]
1. 학년별 교육 시간 배정표
2. 교직원 연수 계획표
3. 학부모 교육 계획표
4. 월별/분기별 실행 계획표
```

---

### 2.4 API 엔드포인트

#### **2.4.1 작성 페이지 조회**
```
GET /create/bullying-prevention-plan
```

**응답:**
```json
{
  "title": "학교폭력 예방 교육 계획서 작성",
  "description": "학교폭력 예방 교육 계획 정보를 단계별로 입력해 계획서를 자동 생성합니다.",
  "steps": [
    {
      "step": 1,
      "title": "기본 정보",
      "fields": [...]
    },
    ...
  ]
}
```

#### **2.4.2 필드별 AI 생성 요청**
```
POST /api/generate/bullying-prevention-plan/field
```

**요청 본문:**
```json
{
  "fieldName": "goals",
  "context": {
    "basicInfo": {
      "schoolName": "○○중학교",
      "schoolLevel": "middle",
      "studentCount": 600
    },
    "analysis": {
      "previousIncidents": 5,
      "schoolCharacteristics": "도심 소재 중학교..."
    },
    "currentValue": "1. 학생들의 학교폭력 인식 제고..."
  }
}
```

**응답:**
```json
{
  "success": true,
  "generatedText": "1. 학생들의 학교폭력에 대한 올바른 인식을 제고하여 가해 및 피해를 예방한다.\n2. 학교폭력 상황에서 방관자가 아닌 적극적 개입자로서의 역할을 인식시킨다.\n3. 타인에 대한 공감능력과 갈등해결 능력을 함양한다.\n4. 안전하고 평화로운 학교 문화를 조성한다."
}
```

#### **2.4.3 계획서 전체 생성 요청**
```
POST /api/generate/bullying-prevention-plan
```

**요청 본문:**
```json
{
  "basicInfo": {
    "schoolName": "○○중학교",
    "schoolLevel": "middle",
    "planType": "annual",
    "studentCount": 600,
    "classCount": 20,
    "teacherCount": 45,
    "period": {
      "start": "2025-03-01",
      "end": "2026-02-28"
    },
    "author": "홍길동",
    "department": "학생생활부",
    "contact": "010-1234-5678"
  },
  "analysis": {
    "previousIncidents": 5,
    "incidentTypes": ["언어폭력", "사이버폭력"],
    "schoolCharacteristics": "도심 소재 중학교...",
    "previousEvaluation": "전년도 예방교육 만족도 85%...",
    "improvements": "사이버폭력 예방교육 강화 필요..."
  },
  "goalsAndPolicy": {
    "goals": "1. 학생들의 학교폭력 인식 제고\n2. 방관자 역할 전환...",
    "policy": "예방교육을 최우선으로 하며...",
    "keyTasks": "1. 학년별 맞춤형 예방교육\n2. 사이버폭력 집중 교육...",
    "expectedEffects": "학교폭력 발생률 감소, 학교 분위기 개선..."
  },
  "studentEducation": {
    "timesPerSemester": 2,
    "gradeEducation": [
      {
        "grade": "1학년",
        "semester1Times": 2,
        "semester1Hours": 4,
        "semester2Times": 2,
        "semester2Hours": 4,
        "totalHours": 8
      },
      ...
    ],
    "mainContent": "학교폭력의 개념과 유형, 언어폭력 예방...",
    "methods": ["강의", "토론", "역할극", "영상시청"],
    "materials": "학교폭력 예방 표준 교재, 사이버폭력 예방 영상",
    "specialProgram": "또래상담 프로그램, 학교폭력 예방 연극..."
  },
  "teacherTraining": {
    "timesPerYear": 2,
    "trainingPlan": [
      {
        "date": "2025-03-15",
        "topic": "학교폭력 인식 및 대응",
        "target": "전체 교직원",
        "hours": 2,
        "instructor": "외부 전문가",
        "notes": "신학기"
      },
      ...
    ]
  },
  "parentEducation": {
    "timesPerYear": 2,
    "educationPlan": [
      {
        "date": "2025-04-10",
        "topic": "가정에서의 학교폭력 예방",
        "target": "전체 학부모",
        "hours": 1,
        "method": "온라인 연수",
        "notes": ""
      },
      ...
    ]
  },
  "monthlyPlan": [
    {
      "period": "3월",
      "target": "전체 학생",
      "activity": "학교폭력 예방 주간 운영",
      "method": "캠페인, 교육",
      "responsible": "학생부",
      "notes": "신학기"
    },
    ...
  ],
  "counselingSystem": {
    "schoolCounseling": "Wee클래스 운영, 전문상담교사 2명 배치...",
    "reportingMethods": "117 신고센터, 학교 신고함, 담임교사 직접 신고...",
    "emergencyResponse": "발생 즉시 교감 보고, 학교폭력대책자치위원회 소집...",
    "externalPartners": "○○경찰서, 청소년상담복지센터, 학교폭력SOS지원단..."
  },
  "budget": {
    "budgetPlan": "교육 자료 구입: 150만원\n외부 강사료: 400만원...",
    "facilities": "Wee클래스, 상담실 2실, 집단상담실...",
    "materials": "학교폭력 예방 교재 50권, 교육 영상 15편..."
  },
  "evaluation": {
    "timing": "중간평가: 9월, 최종평가: 2월",
    "methods": "학생 인식도 조사, 교육 만족도 설문...",
    "indicators": "학교폭력 인식도 90% 이상\n폭력 발생률 전년 대비 30% 감소...",
    "feedback": "평가 결과를 차년도 계획에 반영...",
    "targetReduction": "전년 대비 학교폭력 발생률 30% 감소"
  }
}
```

**응답:**
```json
{
  "success": true,
  "documentId": "bpp_20250118_001",
  "content": {
    "title": "○○중학교 2025학년도 학교폭력 예방 교육 계획서",
    "sections": [
      {
        "title": "기본 현황",
        "content": "..."
      },
      {
        "title": "추진 배경 및 필요성",
        "content": "(AI 생성 내용)",
        "generatedBy": "ai"
      },
      ...
    ],
    "attachments": [
      {
        "title": "학년별 교육 시간 배정표",
        "type": "table",
        "data": [...]
      },
      {
        "title": "교직원 연수 계획표",
        "type": "table",
        "data": [...]
      },
      {
        "title": "학부모 교육 계획표",
        "type": "table",
        "data": [...]
      },
      {
        "title": "월별/분기별 실행 계획표",
        "type": "table",
        "data": [...]
      }
    ]
  },
  "createdAt": "2025-01-18T10:30:00Z"
}
```

---

### 2.5 검증 규칙

#### **필수 항목 검증**
- 모든 필수 항목 입력 여부 확인
- 학생 수, 학급 수, 교원 수는 1 이상
- 계획 기간 시작일이 종료일보다 앞서야 함
- 동적 테이블 최소 개수 확인
  - 학년별 교육 시간: 학교급에 따라 3~6개
  - 교직원 연수: 최소 1개 이상
  - 학부모 교육: 최소 1개 이상
  - 월별 실행 계획: 최소 5개 이상

#### **법정 요건 검증**
- 학생 교육: 학기당 1회 이상
- 교직원 연수: 연간 1회 이상
- 학부모 교육: 연간 1회 이상

#### **형식 검증**
- 연락처: 010-0000-0000 형식
- 날짜: YYYY-MM-DD 형식
- 숫자: 양의 정수만 입력

---

### 2.6 AI 프롬프트 가이드라인

#### **생성 원칙**
1. 학교폭력예방 및 대책에 관한 법률 준수
2. 공문서 어투 사용 (존댓말, 격식체)
3. 교육청 제출 가능한 전문성
4. 학교급별 발달단계 고려
5. 실천 가능한 구체적 계획 제시

#### **프롬프트 예시 1: 추진 배경**
```
다음 정보를 바탕으로 학교폭력 예방 교육 계획서의 "추진 배경 및 필요성" 부분을 작성해 주세요.

[입력 정보]
- 학교급: {schoolLevel}
- 전년도 발생 건수: {previousIncidents}
- 학교 특성: {schoolCharacteristics}
- 교육 목표: {goals}

[작성 가이드라인]
1. 공문서 형식의 격식체 사용
2. 3-4문단으로 구성
3. 법적 근거 포함 (학교폭력예방법 제15조)
4. 학교 현황 분석
5. 예방교육의 필요성과 중요성 강조
```

#### **프롬프트 예시 2: 학년별 맞춤 교육**
```
{grade} 학생 대상 학교폭력 예방교육 내용을 작성해 주세요.

[입력 정보]
- 학교급: {schoolLevel}
- 학년: {grade}
- 교육 시간: {hours}시간
- 주요 내용: {mainContent}

[작성 가이드라인]
1. 발달단계에 맞는 교육 내용
2. 구체적이고 실천 가능한 내용
3. 교육 목표, 세부 내용, 기대 효과 포함
```

---

## 3. 기술 구현

### 3.1 프론트엔드 컴포넌트
- `BullyingPreventionPlanPage.jsx`: 메인 작성 페이지
- `BullyingBasicInfoStep.jsx`: STEP 1 컴포넌트
- `BullyingAnalysisStep.jsx`: STEP 2 컴포넌트
- `BullyingGoalsStep.jsx`: STEP 3 컴포넌트
- `BullyingStudentEducationStep.jsx`: STEP 4 컴포넌트 (동적 테이블)
- `BullyingTeacherTrainingStep.jsx`: STEP 5 컴포넌트 (동적 테이블)
- `BullyingParentEducationStep.jsx`: STEP 6 컴포넌트 (동적 테이블)
- `BullyingMonthlyPlanStep.jsx`: STEP 7 컴포넌트 (동적 테이블)
- `BullyingCounselingStep.jsx`: STEP 8 컴포넌트
- `BullyingBudgetStep.jsx`: STEP 9 컴포넌트
- `BullyingEvaluationStep.jsx`: STEP 10 컴포넌트
- `BullyingPreview.jsx`: 생성된 문서 미리보기

### 3.2 백엔드 처리
- `bullyingPreventionPlanController.js`: API 요청 처리
- `bullyingPreventionPlanService.js`: 비즈니스 로직
- `claudeAIService.js`: AI 생성 요청 (기존 공통 서비스 활용)
- `bullyingPreventionPlanValidator.js`: 입력 데이터 검증
- `documentFormatter.js`: 문서 형식 변환 (기존 공통 서비스 활용)

### 3.3 데이터베이스 스키마
```sql
CREATE TABLE bullying_prevention_plans (
  id VARCHAR(50) PRIMARY KEY,
  user_id VARCHAR(50),
  school_name VARCHAR(100),
  school_level VARCHAR(20),
  plan_type VARCHAR(20),
  student_count INT,
  class_count INT,
  teacher_count INT,
  period_start DATE,
  period_end DATE,
  basic_info JSON,
  analysis JSON,
  goals_and_policy JSON,
  student_education JSON,
  teacher_training JSON,
  parent_education JSON,
  monthly_plan JSON,
  counseling_system JSON,
  budget JSON,
  evaluation JSON,
  generated_content JSON,
  status VARCHAR(20),
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);
```

---

## 4. UI/UX 설계

### 4.1 페이지 레이아웃
- 좌측: 단계 진행 표시 (Stepper) - 10단계
- 중앙: 입력 폼
- 우측: 작성 팁 및 법정 요건 안내 (옵션)
- 하단: 이전/다음/생성 버튼

### 4.2 사용자 경험
- 단계별 진행 상황 표시
- 각 단계 완료 시 자동 저장 (임시 저장)
- 입력 예시 제공 (placeholder)
- 실시간 입력 검증 및 오류 메시지
- 툴팁으로 입력 가이드 제공
- 법정 요건 자동 검증 및 경고

---

## 5. 테스트 시나리오

### 5.1 기능 테스트
1. 모든 입력 항목 정상 작동 확인
2. 필수 항목 미입력 시 검증 확인
3. 법정 요건 검증 확인 (학기당 1회, 연 1회 등)
4. 동적 테이블 추가/삭제 기능 확인 (4개 테이블)
5. AI 생성 요청 및 응답 확인
6. 생성된 문서 형식 확인

### 5.2 통합 테스트
1. 전체 작성 흐름 완료 테스트
2. 임시 저장 및 불러오기 테스트
3. 다운로드 기능 테스트 (붙임 4개 포함)
4. 히스토리 저장 확인

### 5.3 사용자 시나리오 테스트
- 시나리오 1: 초등학교 연간 학교폭력 예방 계획서
- 시나리오 2: 중학교 학기별 학교폭력 예방 계획서
- 시나리오 3: 고등학교 연간 학교폭력 예방 계획서

---

## 6. 향후 개선 계획

### 6.1 기능 추가
- 이전 연도 계획서 템플릿화
- 학교폭력 발생 통계 연계
- 교육청 제출 양식 자동 변환
- 학교폭력대책자치위원회 회의록 연계

### 6.2 성능 개선
- AI 생성 시간 단축
- 응답 속도 최적화
- 대용량 데이터 처리

### 6.3 사용성 개선
- 학교급별 맞춤 템플릿 제공
- 과거 데이터 기반 추천
- 엑셀 계획표 업로드 기능
- 자동 시간 배분 기능

---

## 7. 참고 자료

### 7.1 법적 근거
- 학교폭력예방 및 대책에 관한 법률 제15조 (예방교육)
- 학교폭력예방 및 대책에 관한 법률 시행령
- 교육부 학교폭력 예방교육 가이드라인

### 7.2 예방교육 기준
- 학생: 학기당 1회 이상
- 교직원: 연 1회 이상
- 학부모: 연 1회 이상

### 7.3 관련 자료
- 학교폭력예방종합포털 (http://www.stopbullying.or.kr)
- 교육부 학생생활안전과
- 청소년폭력예방재단
